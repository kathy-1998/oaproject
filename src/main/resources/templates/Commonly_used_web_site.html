<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <title>常用网址</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <meta name="apple-mobile-web-app-capable" content="yes"/>
    <link th:href="@{/resources/css/jquery-ui-themes.css}" type="text/css" rel="stylesheet"/>
    <link th:href="@{/resources/css/axure_rp_page.css}" type="text/css" rel="stylesheet"/>
    <link th:href="@{/data/styles.css}" type="text/css" rel="stylesheet"/>
    <link th:href="@{/files/常用网址/styles.css}" type="text/css" rel="stylesheet"/>
    <script th:src="@{/resources/scripts/jquery-1.7.1.min.js}"></script>
    <script th:src="@{/resources/scripts/jquery-ui-1.8.10.custom.min.js}"></script>
    <!--<script th:src="@{/resources/scripts/prototype/axQuery.js}"></script>
    <script th:src="@{/resources/scripts/prototype/globals.js}"></script>
    <script th:src="@{/resources/scripts/axutils.js}"></script>
    <script th:src="@{/resources/scripts/prototype/annotation.js}"></script>
    <script th:src="@{/resources/scripts/prototype/axQuery.std.js}"></script>
    <script th:src="@{/resources/scripts/prototype/doc.js}"></script>
    <script th:src="@{/data/document.js}"></script>
    <script th:src="@{/resources/scripts/messagecenter.js}"></script>
    <script th:src="@{/resources/scripts/prototype/events.js}"></script>
    <script th:src="@{/resources/scripts/prototype/action.js}"></script>
    <script th:src="@{/resources/scripts/prototype/expr.js}"></script>
    <script th:src="@{/resources/scripts/prototype/geometry.js}"></script>
    <script th:src="@{/resources/scripts/prototype/flyout.js}"></script>
    <script th:src="@{/resources/scripts/prototype/ie.js}"></script>
    <script th:src="@{/resources/scripts/prototype/model.js}"></script>
    <script th:src="@{/resources/scripts/prototype/repeater.js}"></script>
    <script th:src="@{/resources/scripts/prototype/sto.js}"></script>
    <script th:src="@{/resources/scripts/prototype/utils.temp.js}"></script>
    <script th:src="@{/resources/scripts/prototype/variables.js}"></script>
    <script th:src="@{/resources/scripts/prototype/drag.js}"></script>
    <script th:src="@{/resources/scripts/prototype/move.js}"></script>
    <script th:src="@{/resources/scripts/prototype/visibility.js}"></script>
    <script th:src="@{/resources/scripts/prototype/style.js}"></script>
    <script th:src="@{/resources/scripts/prototype/adaptive.js}"></script>
    <script th:src="@{/resources/scripts/prototype/tree.js}"></script>
    <script th:src="@{/resources/scripts/prototype/init.temp.js}"></script>
    <script th:src="@{/files/常用网址/data.js}"></script>
    <script th:src="@{/resources/scripts/prototype/legacy.js}"></script>
    <script th:src="@{/resources/scripts/prototype/viewer.js}"></script>-->
  </head>
  <body>
    <!-- Unnamed (形状) -->
    <div id="u0" class="ax_文本">
      <img id="u0_img" class="img " th:src="@{/resources/images/transparent.gif}"/>
      <!-- Unnamed () -->
      <div id="u1" class="text">
        <p><span style="font-family:'Applied Font Regular', 'Applied Font';">我的桌面&nbsp; &gt;</span><span style="font-family:'Applied Font Regular', 'Applied Font';">&nbsp;</span><span style="font-family:'Applied Font Regular', 'Applied Font';">常用网址</span></p>
      </div>
    </div>
    <table id="u2" class="ax_表格">
      <thead>
      <tr>
        <td>
          <div id="u3" class="ax_表格单元">
            <img id="u3_img" class="img " src="images/常用网址/u3.png"/>
            <div id="u4" class="text">
              <p><span style="font-family:'Applied Font Bold', 'Applied Font';">网址名称</span></p>
            </div>
          </div>
        </td>
        <td>
          <div id="u5" class="ax_表格单元">
            <img id="u5_img" class="img " src="images/常用网址/u5.png"/>
            <div id="u6" class="text">
              <p><span style="font-family:'Applied Font Bold', 'Applied Font';">网址</span></p>
            </div>
          </div>
        </td>
        <td>
          <div id="u7" class="ax_表格单元">
            <img id="u7_img" class="img " src="images/常用网址/u7.png"/>
            <div id="u8" class="text">
              <p><span style="font-family:'Applied Font Bold', 'Applied Font';">操作</span></p>
            </div>
          </div>
        </td>
      </tr>
      </thead>
      <tbody class="tbody">

      </tbody>
    </table>
    <!-- Unnamed (形状) -->
    <div id="u75" class="ax_形状">
      <img id="u75_img" class="img " th:src="@{/images/常用网址/u75.png}"/>
      <!-- Unnamed () -->
      <div id="u76" class="text">
        <p><span style="font-family:'Applied Font Bold', 'Applied Font';">&nbsp; &nbsp; 常用网址列表</span></p>
      </div>
    </div>

    <!-- Unnamed (形状) -->
    <div id="u77" class="ax_形状">
      <img id="u77_img" class="img " th:src="@{/images/常用网址/u77.png}"/>
      <!-- Unnamed () -->
      <div id="u78" class="text"></div>
    </div>

    <!-- Unnamed (形状) -->
    <div id="u79" class="ax_文本">
      <img id="u79_img" class="img " th:src="@{/resources/images/transparent.gif}"/>
      <!-- Unnamed () -->
      <div id="u80" class="text">
        <p><span style="font-family:'Applied Font Regular', 'Applied Font';">1/10</span></p>
      </div>
    </div>

    <!-- Unnamed (形状) -->
    <div id="u81" class="ax_文本">
      <img id="u81_img" class="img " th:src="@{/resources/images/transparent.gif}"/>
      <!-- Unnamed () -->
      <div id="u82" class="text">
        <p><span style="font-family:'Applied Font Regular', 'Applied Font';">每页：</span><span style="font-family:'Applied Font Regular', 'Applied Font';">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; 条</span></p>
      </div>
    </div>

    <!-- Unnamed (下拉列表框) -->
    <div id="u83" class="ax_下拉列表框">
      <select id="u83_input" class="text_sketch">
        <option selected value="10">10</option>
        <option value="20">20</option>
        <option value="50">50</option>
        <option value="100">100</option>
      </select>
    </div>

    <!-- Report Selection Button Bar (形状) -->
    <div id="u84" class="ax_形状" data-label="Report Selection Button Bar">
      <img id="u84_img" class="img " th:src="@{/images/常用网址/report_selection_button_bar_u84.png}"/>
      <!-- Unnamed () -->
      <div id="u85" class="text">
        <p><span style="font-family:'Applied Font Bold', 'Applied Font';">下一页</span></p>
      </div>
    </div>

    <!-- Unnamed (形状) -->
    <div id="u86" class="ax_形状">
      <img id="u86_img" class="img " th:src="@{/images/常用网址/u86.png}"/>
      <!-- Unnamed () -->
      <div id="u87" class="text">
        <p><span style="font-family:'Applied Font Bold', 'Applied Font';">上一页</span></p>
      </div>
    </div>

    <!-- Unnamed (垂直线) -->
    <div id="u88" class="ax_垂直线">
      <img id="u88_start" class="img " th:src="@{/resources/images/transparent.gif}" alt="u88_start"/>
      <img id="u88_end" class="img " th:src="@{/resources/images/transparent.gif}" alt="u88_end"/>
      <img id="u88_line" class="img " th:src="@{/images/常用网址/u88_line.png}" alt="u88_line"/>
    </div>

    <!-- Unnamed (图片) -->
    <div id="u89" class="ax_图片">
      <img id="u89_img" class="img " th:src="@{/images/常用网址/u89.png}"/>
      <!-- Unnamed () -->
      <div id="u90" class="text"></div>
    </div>

    <!-- Unnamed (图片) -->
    <div id="u91" class="ax_图片">
      <img id="u91_img" class="img " th:src="@{/images/我的桌面/u130.png}"/>
      <!-- Unnamed () -->
      <div id="u92" class="text"></div>
    </div>

    <!-- Unnamed (形状) -->
    <div id="u93" class="ax_文本">
      <img id="u93_img" class="img " th:src="@{/resources/images/transparent.gif}"/>
      <!-- Unnamed () -->
      <div id="u94" class="text">
        <p><span style="font-family:'Applied Font Regular', 'Applied Font';">添加</span></p>
      </div>
    </div>

    <!-- add (动态面板) -->
    <div id="u95" class="ax_动态面板" data-label="add">
      <div id="u95_state0" class="panel_state" data-label="State1">

        <!-- Unnamed (形状) -->
        <div id="u96" class="ax_形状">
          <img id="u96_img" class="img " th:src="@{/images/常用网址/u96.png}"/>
          <!-- Unnamed () -->
          <div id="u97" class="text"></div>
        </div>

        <!-- Unnamed (形状) -->
        <div id="u98" class="ax_形状">
          <img id="u98_img" class="img " th:src="@{/images/常用网址/u98.png}"/>
          <!-- Unnamed () -->
          <div id="u99" class="text"></div>
        </div>

        <!-- Unnamed (形状) -->
        <div id="u100" class="ax_形状">
          <img id="u100_img" class="img " th:src="@{/images/常用网址/u100.png}"/>
          <!-- Unnamed () -->
          <div id="u101" class="text"></div>
        </div>

        <!-- label - dialog title (形状) -->
        <div id="u102" class="ax_文本" data-label="label - dialog title">
          <img id="u102_img" class="img " th:src="@{/resources/images/transparent.gif}"/>
          <!-- Unnamed () -->
          <div id="u103" class="text"></div>
        </div>

        <!-- Unnamed (水平线) -->
        <div id="u104" class="ax_水平线">
          <img id="u104_start" class="img " th:src="@{/resources/images/transparent.gif}" alt="u104_start"/>
          <img id="u104_end" class="img " th:src="@{/resources/images/transparent.gif}" alt="u104_end"/>
          <img id="u104_line" class="img " th:src="@{/images/常用网址/u104_line.png}" alt="u104_line"/>
        </div>

        <!-- Unnamed (图片) -->
        <div id="u105" class="ax_图片">
          <img id="u105_img" class="img " th:src="@{/images/常用网址/u105.png}"/>
          <!-- Unnamed () -->
          <div id="u106" class="text"></div>
        </div>

        <!-- Unnamed (图片) -->
        <div id="u107" class="ax_图片">
          <img id="u107_img" class="img " th:src="@{/images/我的桌面/u167.png}"/>
          <!-- Unnamed () -->
          <div id="u108" class="text"></div>
        </div>

        <!-- Unnamed (形状) -->
        <div id="u109" class="ax_形状">
          <img id="u109_img" class="img " th:src="@{/images/我的桌面/u441.png}"/>
          <!-- Unnamed () -->
          <div id="u110" class="text" onclick="add();">
            <p><span style="font-family:'Applied Font Regular', 'Applied Font';">保存</span></p>
          </div>
        </div>

        <!-- Unnamed (形状) -->
        <div id="u111" class="ax_文本">
          <img id="u111_img" class="img " th:src="@{/resources/images/transparent.gif}"/>
          <!-- Unnamed () -->
          <div id="u112" class="text">
            <p><span style="font-family:'Applied Font Regular', 'Applied Font';">标题</span><span style="font-family:'Applied Font Regular', 'Applied Font';">：</span></p>
          </div>
        </div>

        <!-- Unnamed (形状) -->
        <div id="u113" class="ax_文本">
          <img id="u113_img" class="img " th:src="@{/resources/images/transparent.gif}"/>
          <!-- Unnamed () -->
          <div id="u114" class="text">
            <p><span style="font-family:'Applied Font Regular', 'Applied Font';">链接：</span></p>
          </div>
        </div>

        <!-- Unnamed (文本框(单行)) -->
        <div id="u115" class="ax_文本框_单行_">
          <input id="u115_input" type="text" value="" class="text_sketch"/>
        </div>

        <!-- Unnamed (文本框(单行)) -->
        <div id="u116" class="ax_文本框_单行_">
          <input id="u116_input" type="text" value="" class="text_sketch"/>
        </div>

        <!-- Unnamed (形状) -->
        <div id="u117" class="ax_文本">
          <img id="u117_img" class="img " th:src="@{/resources/images/transparent.gif}"/>
          <!-- Unnamed () -->
          <div id="u118" class="text">
            <p class="add"><span style="font-family:'Applied Font Regular', 'Applied Font';">添加</span></p>
          </div>
        </div>
      </div>
    </div>
    <!-- updat (动态面板) -->
    <div id="u123" class="ax_动态面板" data-label="updat">
      <div id="u123_state0" class="panel_state" data-label="State1">

        <!-- Unnamed (形状) -->
        <div id="u124" class="ax_形状">
          <img id="u124_img" class="img " th:src="@{/images/常用网址/u96.png}"/>
          <!-- Unnamed () -->
          <div id="u125" class="text"></div>
        </div>

        <!-- Unnamed (形状) -->
        <div id="u126" class="ax_形状">
          <img id="u126_img" class="img " th:src="@{/images/常用网址/u98.png}"/>
          <!-- Unnamed () -->
          <div id="u127" class="text"></div>
        </div>

        <!-- Unnamed (形状) -->
        <div id="u128" class="ax_形状">
          <img id="u128_img" class="img " th:src="@{/images/常用网址/u100.png}"/>
          <!-- Unnamed () -->
          <div id="u129" class="text"></div>
        </div>

        <!-- label - dialog title (形状) -->
        <div id="u130" class="ax_文本" data-label="label - dialog title">
          <img id="u130_img" class="img " th:src="@{/resources/images/transparent.gif}"/>
          <!-- Unnamed () -->
          <div id="u131" class="text"></div>
        </div>

        <!-- Unnamed (水平线) -->
        <div id="u132" class="ax_水平线">
          <img id="u132_start" class="img " th:src="@{/resources/images/transparent.gif}" alt="u132_start"/>
          <img id="u132_end" class="img " th:src="@{/resources/images/transparent.gif}" alt="u132_end"/>
          <img id="u132_line" class="img " th:src="@{/images/常用网址/u104_line.png}" alt="u132_line"/>
        </div>

        <!-- Unnamed (图片) -->
        <div id="u133" class="ax_图片">
          <img id="u133_img" class="img " th:src="@{/images/我的桌面/u167.png}"/>
          <!-- Unnamed () -->
          <div id="u134" class="text"></div>
        </div>

        <!-- Unnamed (形状) -->
        <div id="u135" class="ax_形状">
          <img id="u135_img" class="img " th:src="@{/images/我的桌面/u441.png}"/>
          <!-- Unnamed () -->
          <div id="u136" class="text"  onclick="update();">
            <p><span style="font-family:'Applied Font Regular', 'Applied Font';">保存</span></p>
          </div>
        </div>

        <!-- Unnamed (形状) -->
        <div id="u137" class="ax_文本">
          <img id="u137_img" class="img " th:src="@{/resources/images/transparent.gif}"/>
          <!-- Unnamed () -->
          <div id="u138" class="text">
            <p><span style="font-family:'Applied Font Regular', 'Applied Font';">标题</span><span style="font-family:'Applied Font Regular', 'Applied Font';">：</span></p>
          </div>
        </div>

        <!-- Unnamed (形状) -->
        <div id="u139" class="ax_文本">
          <img id="u139_img" class="img " th:src="@{/resources/images/transparent.gif}"/>
          <!-- Unnamed () -->
          <div id="u140" class="text">
            <p><span style="font-family:'Applied Font Regular', 'Applied Font';">链接：</span></p>
          </div>
        </div>

        <!-- Unnamed (文本框(单行)) -->
        <div id="u141" class="ax_文本框_单行_">
          <input id="u141_input" type="text" value="百度一下" class="text_sketch"/>
        </div>

        <!-- Unnamed (文本框(单行)) -->
        <div id="u142" class="ax_文本框_单行_">
          <input id="u142_input" type="text" value="http://www.baidu.com/" class="text_sketch"/>
        </div>

        <!-- Unnamed (形状) -->
        <div id="u143" class="ax_文本">
          <img id="u143_img" class="img " th:src="@{/resources/images/transparent.gif}"/>
          <!-- Unnamed () -->
          <div id="u144" class="text">
            <p><span style="font-family:'Applied Font Regular', 'Applied Font';">修改</span></p>
          </div>
        </div>

        <!-- Unnamed (图片) -->
        <div id="u145" class="ax_图片">
          <img id="u145_img" class="img " th:src="@{/images/我的桌面/u188.png}"/>
          <!-- Unnamed () -->
          <div id="u146" class="text"></div>
        </div>
      </div>
    </div>
  </body>
  <script>
    $(function () {
      getInfo();

      $("#u94").click(function () {
        $("#u95").css("visibility","inherit");
      });
    });
    //获取全部信息
    function getInfo() {
      $.ajax({
        type:"GET",
        url:"/oaproject/urlRecord/urlRecord.find",
        data:null,
        asyna:false,
        dataType:"json",
        success:function (data) {
          var $tbody=document.getElementsByClassName("tbody")[0];
          $tbody.innerHTML="";
          for (var i=0;i<data.content.length;i++){
            $tbody.innerHTML+="<tr>\n" +
                    "          <td>"+data.content[i].urlRecordTitle+"</td>\n" +
                    "          <td>"+data.content[i].link+"</td>\n" +
                    "          <td>\n" +
                    "            <a class='update' href=\"javascript:void(0);\" id='"+data.content[i].urlRecordId+"'>修改</a>\n" +
                    "            <a class='delete' href=\"javascript:void(0);\" id='"+data.content[i].urlRecordId+"'>删除</a>\n" +
                    "          </td>\n" +
                    "        </tr>";
            }
            $(".update").on("click",function () {
              var id=$(this).attr("id");
              $("#u123").css("visibility","inherit");
              $.ajax({
                  type:"GET",
                  url:"/oaproject/urlRecord/urlRecordById.find",
                  data:{rid:id},
                  dataType:"json",
                  success:function (data) {
                    alert(data.urlRecordTitle);
                    $("#u141_input").val(data.urlRecordTitle);
                    $("#u142_input").val(data.link);
                  }
              });
            });
            $(".delete").on("click",function () {
              deleteInfo();
            });
          }

      });
    }
    //添加网址信息
    function add() {
      var urlTitle=$("#u115_input").val(); //获取标题
      var urlLink=$("#u116_input").val();  //获取链接
      if(urlTitle == null || urlTitle == ""){
        alert("标题不能为空!");
        return;
      }
      if(urlLink == null || urlLink == ""){
        alert("链接不能为空!");
        return;
      }
      $.ajax({
        type: "GET",
        url:"/oaproject/urlRecord/add.do",
        data:{urlTitle:urlTitle,urlLink:urlLink},
        dataType: "text",
        success:function (data) {
          alert(data);
        }
      });
    }
    //修改网址信息
    function update() {
      var urlTitle=$("#u141_input").val();
      var urlLink=$("#u142_input").val();
      var id=$(".update").attr("id");
      if(urlTitle == null || urlTitle == ""){
        alert("标题不能为空!");
        return;
      }
      if(urlLink == null || urlLink == ""){
        alert("链接不能为空!");
        return;
      }
      $.ajax({
        type: "GET",
        url:"/oaproject/urlRecord/update.do",
        data:{urlTitle:urlTitle,urlLink:urlLink,rid:id},
        dataType: "text",
        success:function (data) {
          alert(data);
        }
      });
    }
    //删除网址信息
    function deleteInfo() {
      var id=$(".delete").attr("id");
      $.ajax({
        type: "GET",
        url:"/oaproject/urlRecord/delete.do",
        data:{rid:id},
        dataType: "text",
        success:function (data) {
          alert(data);
        }
      });
    }
  </script>
</html>
